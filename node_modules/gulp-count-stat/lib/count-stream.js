"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = CountStream;

var _stream = require("stream");

var _util = require("util");

var _util2 = _interopRequireDefault(_util);

var _count = require("./count");

var _count2 = _interopRequireDefault(_count);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_util2.default.inherits(CountStream, _stream.Writable);
function CountStream(options) {
  _stream.Writable.call(this, options);
  this.chars = 0;
  this.words = 0;
}

CountStream.prototype._write = function (chunk, enc, callback) {
  var counts = (0, _count2.default)(chunk, enc);
  this.chars += counts.chars;
  this.words += counts.words;
  this.emit("progress");
  callback();
};
module.exports = exports['default'];
//# sourceMappingURL=count-stream.js.map